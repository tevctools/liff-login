
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>TEVC LINE 授權登入</title>
    <script src="https://static.line-scdn.net/liff/edge/2.1/sdk.js"></script>
    <style>
      body { font-family: sans-serif; text-align: center; margin-top: 3em; }
      .status { font-size: 1.2em; color: #2c7be5; }
    </style>
  </head>
  <body>
    <h1>登入中，請稍候...</h1>
    <p class="status" id="status">正在啟動 LINE 授權流程</p>
    <script>
      async function main() {
        const liffId = "2005677310-ldwxZ767"; // 使用者提供的 LIFF ID
        await liff.init({ liffId });
        if (!liff.isLoggedIn()) {
          liff.login();
        } else {
          const profile = await liff.getProfile();
          const lineId = profile.userId;
          document.getElementById("status").textContent = "授權成功，登入官網中...";
          window.location.href = "https://www.tevc.com.tw/user/line/bind?line_id=" + encodeURIComponent(lineId);
        }
      }
      main();
    </script>
  </body>
</html>
