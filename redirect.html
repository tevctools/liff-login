
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>登入完成，準備跳轉保固頁</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: "Noto Sans TC", sans-serif; text-align: center; padding: 2em; background-color: #f8f8f8; }
    .box { background: #fff; border-radius: 12px; padding: 2em; box-shadow: 0 0 10px rgba(0,0,0,0.1); max-width: 400px; margin: 2em auto; }
    h1 { color: #2c7be5; font-size: 1.4em; margin-bottom: 1em; }
    p { margin: 1em 0; }
    a.button { display: inline-block; margin-top: 1em; padding: 0.8em 1.2em; background-color: #2c7be5; color: white; text-decoration: none; border-radius: 8px; }
    .countdown { font-weight: bold; color: #e53935; }
  </style>
</head>
<body>
  <div class="box">
    <h1>登入成功！準備跳轉至保固註冊頁</h1>
    <p>請稍候，系統將在 <span class="countdown">3</span> 秒後自動跳轉...</p>
    <p>若未自動跳轉，請點選下方按鈕：</p>
    <a id="manualLink" class="button" href="#">🛠 前往保固註冊</a>
  </div>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const lineId = urlParams.get("line_id") || "";
    const redirectUrl = "https://www.tevc.com.tw/item/register" + (lineId ? "?line_id=" + encodeURIComponent(lineId) : "");
    document.getElementById("manualLink").href = redirectUrl;

    let count = 3;
    const countdownElem = document.querySelector(".countdown");
    const timer = setInterval(() => {
      count--;
      countdownElem.textContent = count;
      if (count <= 0) {
        clearInterval(timer);
        window.location.href = redirectUrl;
      }
    }, 1000);
  </script>
</body>
</html>
